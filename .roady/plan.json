{
  "id": "plan-new-project-1770973977",
  "spec_id": "analyzed-spec",
  "tasks": [
    {
      "id": "task-local-runtime-foundation",
      "title": "Implement Local Runtime Foundation",
      "description": "Implement the feature: Local Runtime Foundation. Build local-first tray/runtime in Go with local registry, OAuth connector setup, secure token storage, Claude Desktop integration, and baseline logging.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "local-runtime-foundation"
    },
    {
      "id": "task-skill-artifact-\u0026-execution-model",
      "title": "Implement Skill Artifact \u0026 Execution Model",
      "description": "Implement the feature: Skill Artifact \u0026 Execution Model. Define installable skill artifacts with metadata, input/output schemas, guardrails, fixtures, and execution validation with suggest-mode default.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "skill-artifact-\u0026-execution-model"
    },
    {
      "id": "task-quick-skill-builder",
      "title": "Implement Quick Skill Builder",
      "description": "Implement the feature: Quick Skill Builder. Ship wizard-based builder to generate production-ready skills without JSON editing, including schema generation and fixture validation.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "quick-skill-builder"
    },
    {
      "id": "task-sync-engine-\u0026-drift-protection",
      "title": "Implement Sync Engine \u0026 Drift Protection",
      "description": "Implement the feature: Sync Engine \u0026 Drift Protection. Implement file watchers, schema normalization, auto-repair, and parity enforcement across client config directories.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "sync-engine-\u0026-drift-protection"
    },
    {
      "id": "task-cursor-adapter",
      "title": "Implement Cursor Adapter",
      "description": "Implement the feature: Cursor Adapter. Add Cursor MCP adapter and schema translation so the same skill works consistently in Claude Desktop and Cursor.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cursor-adapter"
    },
    {
      "id": "task-cloud-skill-registry",
      "title": "Implement Cloud Skill Registry",
      "description": "Implement the feature: Cloud Skill Registry. Provide hosted registry with publish/install/versioning plus signing and verification workflows for team distribution.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cloud-skill-registry"
    },
    {
      "id": "task-bundles-\u0026-rollout-controls",
      "title": "Implement Bundles \u0026 Rollout Controls",
      "description": "Implement the feature: Bundles \u0026 Rollout Controls. Support department/team bundles, staged rollout, rollback, and version enforcement controls.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "bundles-\u0026-rollout-controls"
    },
    {
      "id": "task-rbac-\u0026-governance-controls",
      "title": "Implement RBAC \u0026 Governance Controls",
      "description": "Implement the feature: RBAC \u0026 Governance Controls. Introduce role-based publishing, connector/scope restrictions, approval workflows, and audit logging.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "rbac-\u0026-governance-controls"
    },
    {
      "id": "task-windsurf-\u0026-cli-mode",
      "title": "Implement Windsurf \u0026 CLI Mode",
      "description": "Implement the feature: Windsurf \u0026 CLI Mode. Add Windsurf client adapter and headless CLI mode for CI and developer automation.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "windsurf-\u0026-cli-mode"
    },
    {
      "id": "task-model-routing-abstraction",
      "title": "Implement Model Routing Abstraction",
      "description": "Implement the feature: Model Routing Abstraction. Enable transparent multi-model execution with policy-based routing, fallback handling, and cost tracking.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "model-routing-abstraction"
    },
    {
      "id": "task-policy-engine",
      "title": "Implement Policy Engine",
      "description": "Implement the feature: Policy Engine. Implement prompt-injection safeguards, redaction, context classification, and enforceable guardrail policies.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "policy-engine"
    },
    {
      "id": "task-analytics-\u0026-observability-platform",
      "title": "Implement Analytics \u0026 Observability Platform",
      "description": "Implement the feature: Analytics \u0026 Observability Platform. Deliver usage analytics, execution success metrics, adoption tracking, and drift trend reporting dashboards.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "analytics-\u0026-observability-platform"
    },
    {
      "id": "task-marketplace-ecosystem",
      "title": "Implement Marketplace Ecosystem",
      "description": "Implement the feature: Marketplace Ecosystem. Provide private/public skill registries, verification badges, and compatibility metadata for external distribution.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "marketplace-ecosystem"
    },
    {
      "id": "task-os-keychain-token-store",
      "title": "Implement OS Keychain Token Store",
      "description": "Implement the feature: OS Keychain Token Store. Replace in-memory token storage with OS keychain/credential manager-backed secure storage adapter.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "os-keychain-token-store"
    },
    {
      "id": "task-real-client-sync-installers",
      "title": "Implement Real Client Sync Installers",
      "description": "Implement the feature: Real Client Sync Installers. Implement real install/sync behavior for Claude, Cursor, and Windsurf adapters and wire them through the sync engine.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "real-client-sync-installers"
    },
    {
      "id": "task-skill-schema-validation-pipeline",
      "title": "Implement Skill Schema Validation Pipeline",
      "description": "Implement the feature: Skill Schema Validation Pipeline. Parse and validate skill.yaml and JSON schemas with strict checks before install or execution.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "skill-schema-validation-pipeline"
    },
    {
      "id": "task-mcp-runtime-execution-integration",
      "title": "Implement MCP Runtime Execution Integration",
      "description": "Implement the feature: MCP Runtime Execution Integration. Expose runtime and sync operations through MCP tools and add integration tests for end-to-end task execution paths.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-runtime-execution-integration"
    },
    {
      "id": "task-persistent-registry-and-governance-enforcement",
      "title": "Implement Persistent Registry and Governance Enforcement",
      "description": "Implement the feature: Persistent Registry and Governance Enforcement. Persist registry, rollout, and governance state and enforce RBAC at publish/install time.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "persistent-registry-and-governance-enforcement"
    },
    {
      "id": "task-ci-quality-and-security-gates",
      "title": "Implement CI Quality and Security Gates",
      "description": "Implement the feature: CI Quality and Security Gates. Add CI workflows for go test, coverage threshold, and security scanning before merge.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ci-quality-and-security-gates"
    },
    {
      "id": "task-production-connector-security",
      "title": "Implement Production Connector Security",
      "description": "Implement the feature: Production Connector Security. Implement OS keychain-backed token storage and remove in-memory token storage from runtime path.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "production-connector-security"
    },
    {
      "id": "task-operational-cli-and-mcp-serve",
      "title": "Implement Operational CLI and MCP Serve",
      "description": "Implement the feature: Operational CLI and MCP Serve. Implement practical CLI commands for status/sync and an MCP serve command that starts the local MCP server over stdio.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "operational-cli-and-mcp-serve"
    },
    {
      "id": "task-persistent-rollout-plans",
      "title": "Implement Persistent Rollout Plans",
      "description": "Implement the feature: Persistent Rollout Plans. Persist rollout plans to disk and support loading/listing for repeatable team deployments.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "persistent-rollout-plans"
    },
    {
      "id": "task-end-to-end-integration-tests",
      "title": "Implement End-to-End Integration Tests",
      "description": "Implement the feature: End-to-End Integration Tests. Add integration tests covering skill build-\u003einstall-\u003eruntime-\u003eMCP tool registration and sync state transitions.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "end-to-end-integration-tests"
    },
    {
      "id": "task-configurable-mcp-transport",
      "title": "Implement Configurable MCP Transport",
      "description": "Implement the feature: Configurable MCP Transport. Support configurable MCP transport selection (stdio/http/ws) and bind address through CLI flags.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "configurable-mcp-transport"
    },
    {
      "id": "task-actionable-cli-sync-command",
      "title": "Implement Actionable CLI Sync Command",
      "description": "Implement the feature: Actionable CLI Sync Command. Implement sync command to install a skill across Claude/Cursor/Windsurf adapters with explicit target and skill id inputs.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "actionable-cli-sync-command"
    },
    {
      "id": "task-runtime-health-reporting",
      "title": "Implement Runtime Health Reporting",
      "description": "Implement the feature: Runtime Health Reporting. Add runtime health/readiness report APIs and expose them via CLI status output.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "runtime-health-reporting"
    },
    {
      "id": "task-config-driven-cli-runtime",
      "title": "Implement Config-Driven CLI Runtime",
      "description": "Implement the feature: Config-Driven CLI Runtime. Load runtime and client paths from environment variables to support local/dev/prod execution without code edits.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "config-driven-cli-runtime"
    },
    {
      "id": "task-validated-skill-sync-flow",
      "title": "Implement Validated Skill Sync Flow",
      "description": "Implement the feature: Validated Skill Sync Flow. Require sync to read a skill artifact directory, validate skill.yaml and schemas, then install to all clients.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "validated-skill-sync-flow"
    },
    {
      "id": "task-mcp-status-resources",
      "title": "Implement MCP Status Resources",
      "description": "Implement the feature: MCP Status Resources. Expose runtime health and sync status as MCP resources for agents to inspect state without tool invocation.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-status-resources"
    },
    {
      "id": "task-skill-fixture-test-runner",
      "title": "Implement Skill Fixture Test Runner",
      "description": "Implement the feature: Skill Fixture Test Runner. Add a runner that validates skill fixtures/expected outputs and expose it via CLI command for local quality checks.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "skill-fixture-test-runner"
    },
    {
      "id": "task-sync-dry-run-planning",
      "title": "Implement Sync Dry-Run Planning",
      "description": "Implement the feature: Sync Dry-Run Planning. Add a dry-run mode that shows what files/configs would be written for sync without mutating client configs.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "sync-dry-run-planning"
    },
    {
      "id": "task-mcp-skill-validation-tool",
      "title": "Implement MCP Skill Validation Tool",
      "description": "Implement the feature: MCP Skill Validation Tool. Expose skill directory validation as an MCP tool so agents can preflight skills before sync.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-skill-validation-tool"
    },
    {
      "id": "task-cli-skill-scaffold-command",
      "title": "Implement CLI Skill Scaffold Command",
      "description": "Implement the feature: CLI Skill Scaffold Command. Add init-skill CLI command to scaffold a new skill directory using the quick builder.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-skill-scaffold-command"
    },
    {
      "id": "task-cli-help-surface",
      "title": "Implement CLI Help Surface",
      "description": "Implement the feature: CLI Help Surface. Add explicit help command that prints available CLI commands and required flags.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-help-surface"
    },
    {
      "id": "task-mcp-fixture-runner-tool",
      "title": "Implement MCP Fixture Runner Tool",
      "description": "Implement the feature: MCP Fixture Runner Tool. Expose running skill fixture suites via MCP tool for agent-driven quality checks.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-fixture-runner-tool"
    },
    {
      "id": "task-cli-version-and-build-metadata",
      "title": "Implement CLI Version and Build Metadata",
      "description": "Implement the feature: CLI Version and Build Metadata. Add version command and injectable build metadata surfaced via CLI and MCP resources.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-version-and-build-metadata"
    },
    {
      "id": "task-skill-lint-command",
      "title": "Implement Skill Lint Command",
      "description": "Implement the feature: Skill Lint Command. Add lint-skill command with strict structural checks beyond schema validation (required tests and prompt file).\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "skill-lint-command"
    },
    {
      "id": "task-mcp-command-reference-resource",
      "title": "Implement MCP Command Reference Resource",
      "description": "Implement the feature: MCP Command Reference Resource. Expose CLI command reference as MCP resource for discoverability by agents.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-command-reference-resource"
    },
    {
      "id": "task-cli-json-output-mode",
      "title": "Implement CLI JSON Output Mode",
      "description": "Implement the feature: CLI JSON Output Mode. Support --output json for status, sync-plan, and version commands for automation-friendly parsing.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-json-output-mode"
    },
    {
      "id": "task-mcp-build-info-resource",
      "title": "Implement MCP Build Info Resource",
      "description": "Implement the feature: MCP Build Info Resource. Expose build/version metadata as an MCP resource for remote inspection.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-build-info-resource"
    },
    {
      "id": "task-lint-fixture-pair-consistency",
      "title": "Implement Lint Fixture Pair Consistency",
      "description": "Implement the feature: Lint Fixture Pair Consistency. Extend lint-skill to validate fixture/expected file pairing and fail on missing counterparts.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "lint-fixture-pair-consistency"
    },
    {
      "id": "task-cli-doctor-command",
      "title": "Implement CLI Doctor Command",
      "description": "Implement the feature: CLI Doctor Command. Add doctor command to check workspace and client config directory readiness and report issues.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-doctor-command"
    },
    {
      "id": "task-mcp-doctor-tool",
      "title": "Implement MCP Doctor Tool",
      "description": "Implement the feature: MCP Doctor Tool. Expose readiness diagnostics via MCP tool for agent-accessible health triage.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-doctor-tool"
    },
    {
      "id": "task-cli-usage-documentation",
      "title": "Implement CLI Usage Documentation",
      "description": "Implement the feature: CLI Usage Documentation. ---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-usage-documentation"
    },
    {
      "id": "task-tracked-projects-and-folders-inventory",
      "title": "Implement Tracked Projects and Folders Inventory",
      "description": "Implement the feature: Tracked Projects and Folders Inventory. Provide a persistent inventory of tracked projects/folders across local workspaces so teams can see where skills are installed and detect unmanaged repos.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "tracked-projects-and-folders-inventory"
    },
    {
      "id": "task-workspace-and-symlink-orchestration",
      "title": "Implement Workspace and Symlink Orchestration",
      "description": "Implement the feature: Workspace and Symlink Orchestration. Implement workspace directory and symlink orchestration for multi-agent setups, including validation and repair flows for broken links.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "workspace-and-symlink-orchestration"
    },
    {
      "id": "task-tui-operations-console",
      "title": "Implement TUI Operations Console",
      "description": "Implement the feature: TUI Operations Console. Add a terminal UI for team/project-level skill operations: browse tracked projects, inspect status, run sync/uninstall, and triage drift.\n\nAdd docs/cli.md documenting commands, flags, and JSON output examples.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "tui-operations-console"
    },
    {
      "id": "task-mcp-docs-resources",
      "title": "Implement MCP Docs Resources",
      "description": "Implement the feature: MCP Docs Resources. Expose project docs via MCP resources so agents can read core repository documentation through the MCP server.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-docs-resources"
    },
    {
      "id": "task-cli-client-inventory-command",
      "title": "Implement CLI Client Inventory Command",
      "description": "Implement the feature: CLI Client Inventory Command. Add list-clients command to report configured client directories and installed skill artifacts per client.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-client-inventory-command"
    },
    {
      "id": "task-skill-package-command",
      "title": "Implement Skill Package Command",
      "description": "Implement the feature: Skill Package Command. Add package-skill command to create a distributable zip artifact from a validated skill directory.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "skill-package-command"
    },
    {
      "id": "task-cli-uninstall-skill-command",
      "title": "Implement CLI Uninstall Skill Command",
      "description": "Implement the feature: CLI Uninstall Skill Command. Add uninstall-skill command to remove installed skill artifacts from Claude/Cursor/Windsurf client configs.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-uninstall-skill-command"
    },
    {
      "id": "task-mcp-package-skill-tool",
      "title": "Implement MCP Package Skill Tool",
      "description": "Implement the feature: MCP Package Skill Tool. Expose skill packaging via MCP tool so agents can create distributable artifacts.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-package-skill-tool"
    },
    {
      "id": "task-mcp-usage-documentation",
      "title": "Implement MCP Usage Documentation",
      "description": "Implement the feature: MCP Usage Documentation. Add docs/mcp.md covering tools/resources and examples for local usage.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-usage-documentation"
    },
    {
      "id": "task-cli-backup-client-configs",
      "title": "Implement CLI Backup Client Configs",
      "description": "Implement the feature: CLI Backup Client Configs. Add backup-configs command to snapshot Claude/Cursor/Windsurf config directories into a timestamped backup folder.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-backup-client-configs"
    },
    {
      "id": "task-mcp-uninstall-skill-tool",
      "title": "Implement MCP Uninstall Skill Tool",
      "description": "Implement the feature: MCP Uninstall Skill Tool. Expose uninstalling a skill from all clients via MCP tool using the same validated skill directory input.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-uninstall-skill-tool"
    },
    {
      "id": "task-troubleshooting-documentation",
      "title": "Implement Troubleshooting Documentation",
      "description": "Implement the feature: Troubleshooting Documentation. Add docs/troubleshooting.md with common command failures and recovery steps.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "troubleshooting-documentation"
    },
    {
      "id": "task-cli-restore-client-configs",
      "title": "Implement CLI Restore Client Configs",
      "description": "Implement the feature: CLI Restore Client Configs. Add restore-configs command to restore client directories from a backup snapshot path.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-restore-client-configs"
    },
    {
      "id": "task-mcp-docs-index-resource",
      "title": "Implement MCP Docs Index Resource",
      "description": "Implement the feature: MCP Docs Index Resource. Expose docs index resource listing available docs names and URIs.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-docs-index-resource"
    },
    {
      "id": "task-cli-export-status-report",
      "title": "Implement CLI Export Status Report",
      "description": "Implement the feature: CLI Export Status Report. Add export-report command to write current status/doctor/build info to a markdown report file.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-export-status-report"
    },
    {
      "id": "task-dependency-integration-matrix",
      "title": "Implement Dependency Integration Matrix",
      "description": "Implement the feature: Dependency Integration Matrix. Document where bolt, fortify, statekit, and mcp-go are used, and clarify that mcp-go is the maintained MCP module.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "dependency-integration-matrix"
    },
    {
      "id": "task-roady-task-lifecycle-script",
      "title": "Implement Roady Task Lifecycle Script",
      "description": "Implement the feature: Roady Task Lifecycle Script. Add a helper script that wraps start/complete/verify/status and drift checks for Roady tasks.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-task-lifecycle-script"
    },
    {
      "id": "task-roady-docs-sync-script",
      "title": "Implement Roady Docs Sync Script",
      "description": "Implement the feature: Roady Docs Sync Script. Add a helper script to analyze docs, reconcile spec, regenerate plan, and show status.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-docs-sync-script"
    },
    {
      "id": "task-roady-helper-script-smoke-tests",
      "title": "Implement Roady Helper Script Smoke Tests",
      "description": "Implement the feature: Roady Helper Script Smoke Tests. Add a CI-friendly smoke test script that validates roady helper scripts syntax and help output.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-helper-script-smoke-tests"
    },
    {
      "id": "task-roady-command-catalog",
      "title": "Implement Roady Command Catalog",
      "description": "Implement the feature: Roady Command Catalog. Add a concise command catalog for roady workflows and local helper scripts.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-command-catalog"
    },
    {
      "id": "task-roady-preflight-script",
      "title": "Implement Roady Preflight Script",
      "description": "Implement the feature: Roady Preflight Script. Add a preflight script that runs helper smoke tests plus roady status/drift/debt checks before work.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-preflight-script"
    },
    {
      "id": "task-roady-bootstrap-script",
      "title": "Implement Roady Bootstrap Script",
      "description": "Implement the feature: Roady Bootstrap Script. Add a bootstrap helper that runs preflight, docs sync, and final status checks in sequence.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-bootstrap-script"
    },
    {
      "id": "task-roady-ci-workflow",
      "title": "Implement Roady CI Workflow",
      "description": "Implement the feature: Roady CI Workflow. Add a CI workflow that runs Roady helper smoke tests and preflight checks on push and pull requests.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "roady-ci-workflow"
    },
    {
      "id": "task-h1-local-oauth-callback-server",
      "title": "Implement H1 Local OAuth Callback Server",
      "description": "Implement the feature: H1 Local OAuth Callback Server. Implement a local OAuth callback HTTP server for connector auth with state validation and callback result handling.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-local-oauth-callback-server"
    },
    {
      "id": "task-h1-file-watch-drift-monitor",
      "title": "Implement H1 File Watch Drift Monitor",
      "description": "Implement the feature: H1 File Watch Drift Monitor. Implement a polling file watch monitor that detects local config drift and invokes auto-repair hooks.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-file-watch-drift-monitor"
    },
    {
      "id": "task-h1-oauth-callback-runtime",
      "title": "Implement H1 OAuth Callback Runtime",
      "description": "Implement the feature: H1 OAuth Callback Runtime. Implement local OAuth callback server utilities with state validation and code capture for connector auth.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-oauth-callback-runtime"
    },
    {
      "id": "task-h1-google-drive-connector-cli-flow",
      "title": "Implement H1 Google Drive Connector CLI Flow",
      "description": "Implement the feature: H1 Google Drive Connector CLI Flow. Add connect-google-drive CLI command using OAuth callback runtime or token override and persist token via runtime connector path.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-google-drive-connector-cli-flow"
    },
    {
      "id": "task-h1-tray-skills-and-connections-surface",
      "title": "Implement H1 Tray Skills and Connections Surface",
      "description": "Implement the feature: H1 Tray Skills and Connections Surface. Implement tray state persistence and CLI accessors for skills and connector status to provide a basic tray-facing UI surface.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-tray-skills-and-connections-surface"
    },
    {
      "id": "task-h1-onboarding-path-integration-test",
      "title": "Implement H1 Onboarding Path Integration Test",
      "description": "Implement the feature: H1 Onboarding Path Integration Test. Add an integration test that simulates core H1 onboarding: skill creation, google drive connect, sync install, and tray status verification.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-onboarding-path-integration-test"
    },
    {
      "id": "task-h3-strict-ddd-boundary-enforcement",
      "title": "Implement H3 Strict DDD Boundary Enforcement",
      "description": "Implement the feature: H3 Strict DDD Boundary Enforcement. Refactor remaining non-DDD modules so domain, application, and adapter layers are explicit and independently testable.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-strict-ddd-boundary-enforcement"
    },
    {
      "id": "task-h3-model-router-policy-packs",
      "title": "Implement H3 Model Router Policy Packs",
      "description": "Implement the feature: H3 Model Router Policy Packs. Add policy-pack driven model routing profiles (cost-first, quality-first, balanced) with CLI and MCP inspection outputs.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-model-router-policy-packs"
    },
    {
      "id": "task-h3-policy-redaction-runtime-hooks",
      "title": "Implement H3 Policy Redaction Runtime Hooks",
      "description": "Implement the feature: H3 Policy Redaction Runtime Hooks. Integrate runtime redaction and prompt-injection checks as mandatory pre-execution hooks with structured violation telemetry.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-policy-redaction-runtime-hooks"
    },
    {
      "id": "task-h3-analytics-export-surfaces",
      "title": "Implement H3 Analytics Export Surfaces",
      "description": "Implement the feature: H3 Analytics Export Surfaces. Add CLI and MCP analytics summaries for skill usage, success rates, and drift trends with machine-readable JSON output.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-analytics-export-surfaces"
    },
    {
      "id": "task-h3-marketplace-compatibility-validation",
      "title": "Implement H3 Marketplace Compatibility Validation",
      "description": "Implement the feature: H3 Marketplace Compatibility Validation. Implement compatibility contract checks and verification badge criteria validation before publish/install flows.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-marketplace-compatibility-validation"
    },
    {
      "id": "task-h3-policy-aware-runtime-execution",
      "title": "Implement H3 Policy-Aware Runtime Execution",
      "description": "Implement the feature: H3 Policy-Aware Runtime Execution. Apply model policy-pack routing and policy hooks directly in runtime execution (not only MCP entrypoints), with deterministic behavior and tests.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-policy-aware-runtime-execution"
    },
    {
      "id": "task-h3-analytics-persistence-and-trend-report",
      "title": "Implement H3 Analytics Persistence and Trend Report",
      "description": "Implement the feature: H3 Analytics Persistence and Trend Report. Persist analytics snapshots locally and add trend reports for success/drift over time via CLI and MCP resources.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-analytics-persistence-and-trend-report"
    },
    {
      "id": "task-h3-marketplace-publish-and-install-cli/mcp",
      "title": "Implement H3 Marketplace Publish and Install CLI/MCP",
      "description": "Implement the feature: H3 Marketplace Publish and Install CLI/MCP. Add first-class publish/install/list marketplace operations over CLI and MCP, enforcing compatibility and verification contracts.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-marketplace-publish-and-install-cli/mcp"
    },
    {
      "id": "task-h3-governance-audit-export",
      "title": "Implement H3 Governance Audit Export",
      "description": "Implement the feature: H3 Governance Audit Export. Export signed audit bundles for policy decisions, rollout decisions, and marketplace verification outcomes.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-governance-audit-export"
    },
    {
      "id": "task-h3-governance-audit-verify",
      "title": "Implement H3 Governance Audit Verify",
      "description": "Implement the feature: H3 Governance Audit Verify. Add signature verification for governance audit bundles and expose verify operations in CLI and MCP.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-governance-audit-verify"
    },
    {
      "id": "task-h3-marketplace-compatibility-matrix-resource",
      "title": "Implement H3 Marketplace Compatibility Matrix Resource",
      "description": "Implement the feature: H3 Marketplace Compatibility Matrix Resource. Expose compatibility matrix summaries (skill-by-client support and verification state) as MCP resources and CLI JSON output.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-marketplace-compatibility-matrix-resource"
    },
    {
      "id": "task-h3-runtime-execution-report-export",
      "title": "Implement H3 Runtime Execution Report Export",
      "description": "Implement the feature: H3 Runtime Execution Report Export. Export structured runtime execution reports (model, policy telemetry, outcomes) for post-run review and automation.\n\n---",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-runtime-execution-report-export"
    },
    {
      "id": "task-global-flags",
      "title": "Implement Global Flags",
      "description": "Implement the feature: Global Flags. - `--mode tray|cli` (default `tray`)\n- `--command \u003cname\u003e` (CLI mode only)\n- `--skill-dir \u003cdir\u003e` for skill commands, and as optional path for `restore-configs` / `export-status-report`\n- `--mcp-transport stdio|http|ws` and `--mcp-addr :8080` for `serve-mcp`\n- `--output text|json` for machine-readable responses\n- OAuth env overrides for `connect-google-drive`:\n- `AIOS_OAUTH_TOKEN` bypasses callback and uses the provided token/code directly\n- `AIOS_OAUTH_STATE` sets expected callback state (default `aios`)\n- `AIOS_OAUTH_TIMEOUT_SEC` sets callback wait timeout (default `120`)",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "global-flags"
    },
    {
      "id": "task-commands",
      "title": "Implement Commands",
      "description": "Implement the feature: Commands. - `status`: show runtime status and sync state\n- `tray-status`: show tray-facing skills + connections state\n- `version`: show version, commit, build date\n- `doctor`: run readiness checks for workspace/client dirs\n- `model-policy-packs`: inspect available model routing policy packs (`cost-first`, `quality-first`, `balanced`)\n- `analytics-summary`: export tracked project + workspace link summary in text or JSON\n- `analytics-record`: persist one analytics snapshot into `workspace/state/analytics-history.json`\n- `analytics-trend`: show trend summary from persisted analytics snapshots\n- `marketplace-publish`: publish a skill directory to local marketplace registry\n- `marketplace-list`: list marketplace listings from local registry\n- `marketplace-install`: install a marketplace skill by id (`--skill-dir \u003cskill-id\u003e`)\n- `audit-export`: export signed governance audit bundle (`--skill-dir \u003coutput-file\u003e` optional)\n- `project-list`: list tracked projects/folders inventory\n- `project-add`: track a project folder (`--skill-dir \u003cpath\u003e`)\n- `project-remove`: untrack by path or id (`--skill-dir \u003cpath-or-id\u003e`)\n- `project-inspect`: inspect one tracked project by path or id (`--skill-dir \u003cpath-or-id\u003e`)\n- `workspace-validate`: validate managed workspace symlinks for tracked projects\n- `workspace-plan`: show create/repair/skip actions for workspace symlinks\n- `workspace-repair`: apply create/repair actions for workspace symlinks\n- `tui`: open the terminal operations console (projects + workspace link operations)\n- `sync`: validate and install skill into all clients\n- `backup-configs`: snapshot Claude/Cursor/Windsurf config directories into `workspace/backups/\u003ctimestamp\u003e`\n- `restore-configs`: restore configs from latest backup (or `--skill-dir \u003cbackup-dir\u003e`)\n- `export-status-report`: write markdown readiness report (default `workspace/status-report.md` or `--skill-dir \u003coutput-file\u003e`)\n- `connect-google-drive`: connect Google Drive via local OAuth callback or token override\n- `sync-plan`: dry-run listing of files that would be written\n- `test-skill`: run fixture suite in `\u003cskill-dir\u003e/tests`\n- `lint-skill`: run strict lint checks for skill structure and fixture pairing\n- `init-skill`: scaffold a skill directory\n- `serve-mcp`: run MCP server\n- `help`: print command reference",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "commands"
    },
    {
      "id": "task-json-examples",
      "title": "Implement JSON Examples",
      "description": "Implement the feature: JSON Examples. ```bash\n./aios --mode cli --command status --output json\n./aios --mode cli --command sync-plan --skill-dir ./my-skill --output json\n./aios --mode cli --command version --output json\n./aios --mode cli --command restore-configs --output json\n./aios --mode cli --command export-status-report --skill-dir ./status.md --output json\nAIOS_OAUTH_TOKEN=demo-token ./aios --mode cli --command connect-google-drive --output json\n./aios --mode cli --command project-add --skill-dir ./repo-a --output json\n./aios --mode cli --command workspace-validate --output json\n./aios --mode cli --command workspace-repair --output json\n./aios --mode cli --command analytics-summary --output json\n./aios --mode cli --command analytics-record --output json\n./aios --mode cli --command analytics-trend --output json\n./aios --mode cli --command marketplace-publish --skill-dir ./my-skill --output json\n./aios --mode cli --command marketplace-list --output json\n./aios --mode cli --command marketplace-install --skill-dir roadmap-reader --output json\n./aios --mode cli --command audit-export --output json\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "json-examples"
    },
    {
      "id": "task-notes",
      "title": "Implement Notes",
      "description": "Implement the feature: Notes. - MCP integration is implemented with `mcp-go` in this repository.\n- `github.com/felixgeelhaar/mcp` is not currently available as a Go module; use `mcp-go` for all MCP work unless a maintained replacement is published.\n\n---\n\n- If `task start` fails with plan approval errors, run `roady plan approve` and retry.\n- Keep evidence strings short and concrete (for example: `go test ./... pass`).\n- CI runs Roady checks via `.github/workflows/ci.yml` (`test_roady_helpers.sh` and `roady_preflight.sh`).",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "notes"
    },
    {
      "id": "task-update-rule",
      "title": "Implement Update Rule",
      "description": "Implement the feature: Update Rule. When adding infrastructure-level functionality, check this matrix first and prefer the listed package before introducing alternatives.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "update-rule"
    },
    {
      "id": "task-run-mcp-server",
      "title": "Implement Run MCP Server",
      "description": "Implement the feature: Run MCP Server. ```bash\n./aios --mode cli --command serve-mcp --mcp-transport stdio\n./aios --mode cli --command serve-mcp --mcp-transport http --mcp-addr :8080\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "run-mcp-server"
    },
    {
      "id": "task-available-tools",
      "title": "Implement Available Tools",
      "description": "Implement the feature: Available Tools. - `evaluate_policy`\n- `execute_skill`\n- `sync_state`\n- `validate_skill_dir`\n- `run_fixture_suite`\n- `doctor`\n- `model_policy_packs`\n- `analytics_summary`\n- `marketplace_publish`\n- `marketplace_list`\n- `marketplace_install`\n- `governance_audit_export`\n- `package_skill`\n- `uninstall_skill`\n- `project_list`\n- `project_track`\n- `project_untrack`\n- `project_inspect`\n- `workspace_validate`\n- `workspace_plan`\n- `workspace_repair`",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "available-tools"
    },
    {
      "id": "task-available-resources",
      "title": "Implement Available Resources",
      "description": "Implement the feature: Available Resources. - `aios://status/health`\n- `aios://status/sync`\n- `aios://status/build`\n- `aios://projects/inventory`\n- `aios://workspace/links`\n- `aios://analytics/trend`\n- `aios://help/commands`\n- `docs://index`\n- `docs://{name}` (e.g. `docs://prd`, `docs://tdd`, `docs://cli`)",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "available-resources"
    },
    {
      "id": "task-example-mcp-operations",
      "title": "Implement Example MCP Operations",
      "description": "Implement the feature: Example MCP Operations. - Validate and package a skill directory:\n1. Call `validate_skill_dir` with `{\"skill_dir\":\"./my-skill\"}`.\n2. Call `package_skill` with `{\"skill_dir\":\"./my-skill\"}`.\n- Execute with policy hooks:\n- Call `execute_skill` with `{\"id\":\"roadmap-reader\",\"version\":\"0.1.0\",\"input\":{\"query\":\"...\"}}`.\n- Response includes `policy_telemetry` (`violations`, `redactions`, `blocked`).\n- Run fixture tests via MCP:\n- Call `run_fixture_suite` with `{\"skill_dir\":\"./my-skill\"}`.\n- Inspect model routing policy packs:\n- Call `model_policy_packs` with `{}`.\n- Read analytics summary:\n- Call `analytics_summary` with `{}`.\n- Publish and install marketplace skills:\n1. Call `marketplace_publish` with `{\"skill_dir\":\"./my-skill\"}`.\n2. Call `marketplace_list` with `{}`.\n3. Call `marketplace_install` with `{\"skill_id\":\"roadmap-reader\"}`.\n- Export signed governance audit bundle:\n- Call `governance_audit_export` with `{}` (or `{\"output\":\"./audit.json\"}`).\n- Track and repair project workspace links:\n1. Call `project_track` with `{\"path\":\"./repo-a\"}`.\n2. Call `project_inspect` with `{\"selector\":\"./repo-a\"}`.\n3. Call `workspace_validate` with `{}`.\n4. Call `workspace_plan` with `{}`.\n5. Call `workspace_repair` with `{}`.\n\n- `dependency-matrix`: dependency usage and package standards",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "example-mcp-operations"
    },
    {
      "id": "task-daily-flow",
      "title": "Implement Daily Flow",
      "description": "Implement the feature: Daily Flow. ```bash\nroady status\nroady task ready\nroady drift detect\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "daily-flow"
    },
    {
      "id": "task-spec-and-plan",
      "title": "Implement Spec and Plan",
      "description": "Implement the feature: Spec and Plan. ```bash\nroady spec add \"Feature Name\" \"Description\"\nroady spec analyze docs --reconcile\nroady plan generate\nroady plan approve\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "spec-and-plan"
    },
    {
      "id": "task-task-lifecycle",
      "title": "Implement Task Lifecycle",
      "description": "Implement the feature: Task Lifecycle. ```bash\nroady task start \u003ctask-id\u003e\nroady task complete \u003ctask-id\u003e -e \"implemented\"\nroady task verify \u003ctask-id\u003e -e \"tests passed\"\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "task-lifecycle"
    },
    {
      "id": "task-helper-scripts",
      "title": "Implement Helper Scripts",
      "description": "Implement the feature: Helper Scripts. ```bash\nbash ci/roady_task.sh ready\nbash ci/roady_task.sh cycle \u003ctask-id\u003e \"implemented + tests passed\"\nbash ci/roady_docs_sync.sh\nbash ci/roady_docs_sync.sh docs --analyze\nbash ci/test_roady_helpers.sh\nbash ci/roady_preflight.sh\nbash ci/roady_bootstrap.sh\nbash ci/roady_bootstrap.sh docs --analyze\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "helper-scripts"
    },
    {
      "id": "task-diagnostics",
      "title": "Implement Diagnostics",
      "description": "Implement the feature: Diagnostics. ```bash\nroady debt summary\nroady debt report\nroady drift detect\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "diagnostics"
    },
    {
      "id": "task-start-roady-mcp",
      "title": "Implement Start Roady MCP",
      "description": "Implement the feature: Start Roady MCP. Run Roady as an MCP server for local tools/agents:\n\n```bash\nroady mcp --transport stdio\n```\n\nOptional network transports:\n\n```bash\nroady mcp --transport http --addr :8080\nroady mcp --transport ws --addr :8080\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "start-roady-mcp"
    },
    {
      "id": "task-generate-tasks-from-docs",
      "title": "Implement Generate Tasks from Docs",
      "description": "Implement the feature: Generate Tasks from Docs. Use Roady spec features as the source of truth, then generate tasks:\n\n```bash\nroady spec add \"Feature Name\" \"Short feature description\"\nroady plan generate\nroady status\n```\n\nIf docs are highly structured with feature-style sections, try:\n\n```bash\nroady spec analyze docs --reconcile\n```\n\nIf analysis cannot infer features, use explicit `roady spec add` entries.\n\nOr run the helper script to perform analyze + plan generate + approve + status:\n\n```bash\nci/roady_docs_sync.sh\nci/roady_docs_sync.sh docs --analyze\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "generate-tasks-from-docs"
    },
    {
      "id": "task-keep-todo-list-accurate",
      "title": "Implement Keep Todo List Accurate",
      "description": "Implement the feature: Keep Todo List Accurate. During implementation:\n\n```bash\nroady task start \u003ctask-id\u003e\nroady task complete \u003ctask-id\u003e\nroady task verify \u003ctask-id\u003e -e \"evidence\"\n```\n\nOr use the helper script to enforce a consistent lifecycle:\n\n```bash\nci/roady_task.sh ready\nci/roady_task.sh start \u003ctask-id\u003e\nci/roady_task.sh cycle \u003ctask-id\u003e \"implemented + go test ./... pass\"\n```\n\nSanity checks:\n\n```bash\nroady drift detect\nroady status\n```\n\nHelper script smoke tests:\n\n```bash\nbash ci/test_roady_helpers.sh\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "keep-todo-list-accurate"
    },
    {
      "id": "task-`sync`-fails-with-`skill-dir-is-required`",
      "title": "Implement `sync` fails with `skill-dir is required`",
      "description": "Implement the feature: `sync` fails with `skill-dir is required`. Cause: `--skill-dir` was not provided.\nFix:\n```bash\n./aios --mode cli --command sync --skill-dir ./my-skill\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "`sync`-fails-with-`skill-dir-is-required`"
    },
    {
      "id": "task-`lint-skill`-reports-missing-fixture-pair",
      "title": "Implement `lint-skill` reports missing fixture pair",
      "description": "Implement the feature: `lint-skill` reports missing fixture pair. Cause: a `fixture_*.json` file does not have matching `expected_*.json` (or vice versa).\nFix: ensure matching suffixes in `tests/`.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "`lint-skill`-reports-missing-fixture-pair"
    },
    {
      "id": "task-`serve-mcp`-fails-on-http/ws",
      "title": "Implement `serve-mcp` fails on HTTP/WS",
      "description": "Implement the feature: `serve-mcp` fails on HTTP/WS. Cause: address is in use or invalid transport value.\nFix:\n```bash\n./aios --mode cli --command serve-mcp --mcp-transport http --mcp-addr :8081\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "`serve-mcp`-fails-on-http/ws"
    },
    {
      "id": "task-`doctor`-reports-failed-checks",
      "title": "Implement `doctor` reports failed checks",
      "description": "Implement the feature: `doctor` reports failed checks. Cause: CLI cannot create or access workspace/client paths.\nFix: set environment overrides and re-run:\n```bash\nexport AIOS_WORKSPACE_DIR=\"$PWD/.aios\"\n./aios --mode cli --command doctor\n```",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "`doctor`-reports-failed-checks"
    },
    {
      "id": "task-`package-skill`-fails",
      "title": "Implement `package-skill` fails",
      "description": "Implement the feature: `package-skill` fails. Cause: invalid `skill.yaml` or JSON schema files.\nFix:\n1. Run `lint-skill`.\n2. Run `test-skill`.\n3. Re-run `package-skill`.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "`package-skill`-fails"
    },
    {
      "id": "task-`connect-google-drive`-times-out",
      "title": "Implement `connect-google-drive` times out",
      "description": "Implement the feature: `connect-google-drive` times out. Cause: no OAuth callback was received before timeout.\nFix:\n1. Increase timeout: `AIOS_OAUTH_TIMEOUT_SEC=300`.\n2. Confirm callback state matches `AIOS_OAUTH_STATE`.\n3. For local testing, bypass callback with `AIOS_OAUTH_TOKEN=\u003ctoken\u003e`.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "`connect-google-drive`-times-out"
    },
    {
      "id": "task-h1-local-kernel-scope",
      "title": "Implement H1 Local Kernel Scope",
      "description": "Implement the feature: H1 Local Kernel Scope. Horizon 1 (0-4 months): Local-first runtime with skill artifacts, OAuth connectors, sync engine, drift repair, CLI + MCP surface. Includes: tray runtime, skill model, quick builder, sync engine, drift protection, Claude/Cursor adapters, fixture runner, linting, doctor, health reporting, backup/restore, JSON output mode, MCP serve. Exit criteria: onboarding \u003c 15 min, zero JSON editing, drift auto-resolve \u003e= 90%, skill success rate \u003e= 98%, connector bind \u003e 95%.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-local-kernel-scope"
    },
    {
      "id": "task-h2-organizational-control-plane-scope",
      "title": "Implement H2 Organizational Control Plane Scope",
      "description": "Implement the feature: H2 Organizational Control Plane Scope. Horizon 2 (4-12 months): Team-wide skill distribution and version control. Includes: cloud skill registry, publish/install workflows, signing and verification, bundles and rollout controls, RBAC and governance, audit logging, Windsurf adapter, CLI headless mode, tracked project inventory, workspace orchestration, TUI operations console. Exit criteria: \u003e= 3 teams using shared skills, org-wide rollout achieved, admin approval workflow functioning, version enforcement stable.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h2-organizational-control-plane-scope"
    },
    {
      "id": "task-h3-ai-os-platform-scope",
      "title": "Implement H3 AI OS Platform Scope",
      "description": "Implement the feature: H3 AI OS Platform Scope. Horizon 3 (12-24 months): Full AI control layer for organizations. Includes: model routing abstraction with policy packs, policy engine (prompt injection, redaction, context classification), analytics and observability platform, marketplace ecosystem (private/public registries, verification badges), governance audit export and verification, compatibility matrix, runtime execution report export. Exit criteria: policy enforcement coverage, audit completeness, enterprise adoption metrics, external skill developer publishes verified skill.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-ai-os-platform-scope"
    },
    {
      "id": "task-h1-non-goals",
      "title": "Implement H1 Non-Goals",
      "description": "Implement the feature: H1 Non-Goals. Explicit v1 scope exclusions per PRD and TDD. NOT in scope for H1: no cloud registry, no org sharing, no RBAC, no marketplace, no policy engine, no hosted runtime, no advanced workflow graph builder, no centralized multi-tenant control plane, no model routing. These are deferred to H2/H3. Existing experimental implementations of these capabilities are not production-committed for H1.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-non-goals"
    },
    {
      "id": "task-security-invariants",
      "title": "Implement Security Invariants",
      "description": "Implement the feature: Security Invariants. Cross-cutting security requirements enforced across all horizons. No credentials embedded in skill artifacts - runtime rejects skills containing raw tokens, OAuth client secrets, or private keys. All connector tokens must use OS keychain adapter (macOS Keychain, Windows Credential Manager). Least-privilege connector scopes enforced at binding time. Policy hooks must run before model execution when enabled. No plaintext tokens written to disk. Skills must declare required scopes explicitly. Token expiration must be monitored and surfaced.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "security-invariants"
    },
    {
      "id": "task-cli-contract-guarantees",
      "title": "Implement CLI Contract Guarantees",
      "description": "Implement the feature: CLI Contract Guarantees. All CLI commands must: support --output json with deterministic JSON schema, exit code 0 on success, exit non-zero on validation failure or error, produce structured error messages in JSON mode, support --mode cli for headless operation. Commands must not require interactive input when run with --mode cli. Flags must be validated before execution begins. Unknown flags must produce clear error messages.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "cli-contract-guarantees"
    },
    {
      "id": "task-mcp-contract-guarantees",
      "title": "Implement MCP Contract Guarantees",
      "description": "Implement the feature: MCP Contract Guarantees. All MCP tools must: return structured results with explicit error fields, never panic during execution, validate inputs before processing, include execution metadata in responses. MCP resources must return consistent schema. Transport selection (stdio/http/ws) must not affect tool behavior. Tools must be discoverable via the MCP protocol. Resources must support URI-based access pattern.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "mcp-contract-guarantees"
    },
    {
      "id": "task-ddd-architecture-invariants",
      "title": "Implement DDD Architecture Invariants",
      "description": "Implement the feature: DDD Architecture Invariants. Strict dependency direction: domain -\u003e application -\u003e adapters/runtime -\u003e cmd. Domain packages must never import application or runtime packages. Domain layer must not log, perform I/O, or depend on infrastructure. Application layer orchestrates domain logic via injected interfaces. Interfaces defined at consumer side, not provider side. No circular dependencies between packages. Each bounded context (sync, rollout, governance, etc.) owns its domain model.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ddd-architecture-invariants"
    },
    {
      "id": "task-ac:-sync-engine",
      "title": "Implement AC: Sync Engine",
      "description": "Implement the feature: AC: Sync Engine. Acceptance criteria for Validated Skill Sync Flow and Sync Engine. (1) Must validate skill.yaml before writing to any client directory. (2) Must validate input/output JSON schemas before install. (3) Must fail fast on schema errors with structured error output. (4) Must support dry-run mode via sync-plan command. (5) Must not mutate client directories in dry-run mode. (6) Must normalize schema differences across clients (dash vs underscore, tool naming). (7) Must emit JSON output when --output json is set. (8) Must install to all configured client adapters in a single sync invocation.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-sync-engine"
    },
    {
      "id": "task-ac:-oauth-and-connector-runtime",
      "title": "Implement AC: OAuth and Connector Runtime",
      "description": "Implement the feature: AC: OAuth and Connector Runtime. Acceptance criteria for OAuth Callback Runtime and Connector System. (1) Must validate OAuth state parameter on callback. (2) Must enforce configurable timeout (AIOS_OAUTH_TIMEOUT_SEC, default 120s). (3) Must support token override via AIOS_OAUTH_TOKEN env var for testing. (4) Must never log tokens or secrets to any output. (5) Must persist tokens exclusively to OS keychain adapter. (6) Must surface token expiration status in tray-status and health check. (7) Must bind connectors at execution time, not at install time. (8) Must reject skills that embed raw credentials.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-oauth-and-connector-runtime"
    },
    {
      "id": "task-ac:-skill-artifact-model",
      "title": "Implement AC: Skill Artifact Model",
      "description": "Implement the feature: AC: Skill Artifact Model. Acceptance criteria for Skill Artifact and Execution Model. (1) Skill must include: metadata, version, required connectors, input/output schemas, guardrails, prompt template, test fixtures. (2) skill.yaml must conform to documented spec (id, name, version, type, clients, requires, inputs, outputs, guardrails, execution, tests). (3) Execution defaults to suggest mode. (4) Skill must pass lint and fixture validation before sync install. (5) Skill must be portable across supported clients without modification. (6) Skill version must follow semver. (7) No embedded credentials in any skill file.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-skill-artifact-model"
    },
    {
      "id": "task-ac:-drift-detection-and-repair",
      "title": "Implement AC: Drift Detection and Repair",
      "description": "Implement the feature: AC: Drift Detection and Repair. Acceptance criteria for Drift Protection and File Watch Monitor. (1) File watchers must observe all configured client config directories. (2) Must detect manual edits to client configs within polling interval. (3) Must validate detected differences before repair. (4) Must auto-repair safe config mismatches without user intervention. (5) Must surface non-repairable drift as alerts in status/health output. (6) Must maintain parity across all synced clients after repair. (7) Auto-resolve rate target: \u003e= 90% of drift incidents.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-drift-detection-and-repair"
    },
    {
      "id": "task-ac:-os-keychain-token-store",
      "title": "Implement AC: OS Keychain Token Store",
      "description": "Implement the feature: AC: OS Keychain Token Store. Acceptance criteria for OS Keychain Token Store and Production Connector Security. (1) Must use macOS Keychain on darwin, Windows Credential Manager on windows. (2) Must not fall back to in-memory storage in production runtime path. (3) Must fail securely with clear error if keychain is unavailable or locked. (4) Must never write plaintext tokens to disk or logs. (5) In-memory token store acceptable only for test fixtures. (6) Must support token refresh flow when connector supports it.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-os-keychain-token-store"
    },
    {
      "id": "task-ac:-runtime-health-and-diagnostics",
      "title": "Implement AC: Runtime Health and Diagnostics",
      "description": "Implement the feature: AC: Runtime Health and Diagnostics. Acceptance criteria for Runtime Health Reporting and Doctor Command. (1) Health check must report: runtime status, sync state, connector status, token expiration. (2) Doctor must validate workspace directory existence and permissions. (3) Doctor must validate all configured client directories are accessible. (4) Must support environment variable overrides for all paths (AIOS_WORKSPACE_DIR). (5) Must output structured JSON when --output json is set. (6) Health endpoints must be exposed via MCP resources (aios://status/health, aios://status/sync). (7) Exit code must reflect health status (0 = healthy, non-zero = degraded).",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-runtime-health-and-diagnostics"
    },
    {
      "id": "task-ac:-skill-linting-and-testing",
      "title": "Implement AC: Skill Linting and Testing",
      "description": "Implement the feature: AC: Skill Linting and Testing. Acceptance criteria for Skill Lint, Fixture Test Runner, and Validation Pipeline. (1) lint-skill must check: skill.yaml presence and validity, prompt.md presence, schema files present, tests directory with fixtures. (2) Must validate fixture/expected file pairing - fail on missing counterparts. (3) test-skill must execute all fixtures in tests/ directory and compare against expected outputs. (4) Must report pass/fail per fixture with structured output. (5) Schema validation must reject malformed JSON schemas before install. (6) Both lint and test must be exposed as MCP tools. (7) Must support --output json for automation.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-skill-linting-and-testing"
    },
    {
      "id": "task-ac:-quick-skill-builder",
      "title": "Implement AC: Quick Skill Builder",
      "description": "Implement the feature: AC: Quick Skill Builder. Acceptance criteria for Quick Skill Builder and init-skill. (1) Must scaffold complete skill directory structure (skill.yaml, prompt.md, schema.input.json, schema.output.json, tests/). (2) Generated skill must pass lint-skill without modification. (3) Must support skill type selection (reader, analyzer, screener, guardrail, action). (4) Generated schemas must be valid JSON Schema. (5) Must include at least one starter fixture/expected pair. (6) No JSON editing required by user to produce a working skill.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-quick-skill-builder"
    },
    {
      "id": "task-ac:-cloud-registry-and-distribution",
      "title": "Implement AC: Cloud Registry and Distribution",
      "description": "Implement the feature: AC: Cloud Registry and Distribution. Acceptance criteria for H2 Cloud Skill Registry and Distribution. (1) Must support skill publishing with version metadata. (2) Must enforce signing at publish time. (3) Must verify signatures before install. (4) Local tray syncs from org registry. (5) Version updates must propagate to all subscribed clients. (6) Must support rollback to previous version. (7) Must enforce version constraints per team/department. (8) Registry state must be persistent.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-cloud-registry-and-distribution"
    },
    {
      "id": "task-ac:-rbac-and-governance",
      "title": "Implement AC: RBAC and Governance",
      "description": "Implement the feature: AC: RBAC and Governance. Acceptance criteria for H2 RBAC and Governance Controls. (1) Must enforce role-based publishing permissions (admin, publisher, consumer). (2) Must restrict allowed connector scopes per role. (3) Must support skill approval workflows before distribution. (4) Must log all publish, install, and policy decisions to audit trail. (5) Audit bundles must be exportable and signed. (6) Audit signatures must be verifiable via CLI and MCP. (7) RBAC must be enforced at both publish and install time.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-rbac-and-governance"
    },
    {
      "id": "task-ac:-rollout-and-bundles",
      "title": "Implement AC: Rollout and Bundles",
      "description": "Implement the feature: AC: Rollout and Bundles. Acceptance criteria for H2 Bundles and Rollout Controls. (1) Must support department/team skill bundles. (2) Must support staged rollout with percentage-based targeting. (3) Must support rollback of individual skills and bundles. (4) Rollout plans must be persistable to disk. (5) Must support loading and listing persisted rollout plans. (6) Version enforcement must be visible in status output. (7) Must prevent downgrade unless explicitly forced.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-rollout-and-bundles"
    },
    {
      "id": "task-ac:-model-routing-and-policy-engine",
      "title": "Implement AC: Model Routing and Policy Engine",
      "description": "Implement the feature: AC: Model Routing and Policy Engine. Acceptance criteria for H3 Model Routing and Policy Engine. (1) Model routing must support policy packs: cost-first, quality-first, balanced. (2) Routing must be transparent to skill execution. (3) Must support fallback to alternate model on failure. (4) Cost tracking per execution must be recorded. (5) Policy engine must detect prompt injection attempts. (6) Must redact sensitive data before model invocation. (7) Must classify context and enforce guardrail policies. (8) Policy hooks must run in runtime execution path, not only MCP entrypoints. (9) Violation telemetry must be structured and exportable.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-model-routing-and-policy-engine"
    },
    {
      "id": "task-ac:-analytics-and-observability",
      "title": "Implement AC: Analytics and Observability",
      "description": "Implement the feature: AC: Analytics and Observability. Acceptance criteria for H3 Analytics and Observability Platform. (1) Must track skill usage counts per skill and team. (2) Must track execution success/failure rates. (3) Must track adoption metrics across tracked projects. (4) Must persist analytics snapshots locally. (5) Must support trend reporting over time via CLI and MCP. (6) Must export machine-readable JSON. (7) Must track drift incidents and auto-resolve rates.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-analytics-and-observability"
    },
    {
      "id": "task-ac:-marketplace-ecosystem",
      "title": "Implement AC: Marketplace Ecosystem",
      "description": "Implement the feature: AC: Marketplace Ecosystem. Acceptance criteria for H3 Marketplace. (1) Must support private org registries. (2) Must support public skill marketplace. (3) Must enforce compatibility contract checks before publish. (4) Must assign verification badges to skills meeting criteria. (5) Must include compatibility metadata (supported clients, versions). (6) Must expose compatibility matrix as MCP resource and CLI JSON output. (7) External developers must be able to publish verified skills. (8) Org must be able to install marketplace skills safely with contract validation.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "ac:-marketplace-ecosystem"
    },
    {
      "id": "task-h1-success-metrics",
      "title": "Implement H1 Success Metrics",
      "description": "Implement the feature: H1 Success Metrics. Measurable success criteria for Horizon 1 Local Kernel per PRD and Roadmap. (1) AI onboarding time \u003c 15 minutes from install to working skill. (2) Zero manual JSON editing required for any user operation. (3) Successful connector binding rate \u003e 95%. (4) Skill execution success rate \u003e 98%. (5) Drift detection auto-resolve rate \u003e= 90%. (6) At least 5 distinct skills built via Quick Builder. (7) At least 2 non-engineering users successfully onboarded. (8) 10-20 power users using weekly before H2 begins.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h1-success-metrics"
    },
    {
      "id": "task-h2-success-metrics",
      "title": "Implement H2 Success Metrics",
      "description": "Implement the feature: H2 Success Metrics. Measurable success criteria for Horizon 2 Org Control Plane per PRD and Roadmap. (1) \u003e= 3 teams using shared skills. (2) Org-wide skill rollout achieved at least once. (3) Admin approval workflow functioning end-to-end. (4) Version enforcement stable across all clients. (5) Org-wide skill rollout time \u003c 1 hour. (6) Skill version adoption rate \u003e 80%. (7) Measurable reduction in config support tickets. (8) First paid customers (Pro tier).",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h2-success-metrics"
    },
    {
      "id": "task-h3-success-metrics",
      "title": "Implement H3 Success Metrics",
      "description": "Implement the feature: H3 Success Metrics. Measurable success criteria for Horizon 3 AI OS Platform per PRD and Roadmap. (1) Policy enforcement coverage across all skill executions. (2) Audit trail completeness for all governance decisions. (3) Enterprise adoption metrics tracked and reported. (4) External skill developer publishes verified skill to marketplace. (5) Org installs marketplace skill safely with contract validation. (6) Model routing cost tracking operational. (7) Analytics dashboard used by platform teams for decisions.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "h3-success-metrics"
    },
    {
      "id": "task-data-driven-agent-registry",
      "title": "Implement Data-Driven Agent Registry",
      "description": "Implement the feature: Data-Driven Agent Registry. Replace hardcoded 3-client list (Claude, Cursor, Windsurf) with a data-driven agent registry supporting 9 agents: OpenCode, Claude Code, Cursor, Codex, Gemini CLI, GitHub Copilot, Goose, Windsurf, Cline. Agent definitions are loaded from an embedded agents.json file with name, displayName, skillsDir, altSkillsDirs, globalSkillsDir, detectPaths, and universal flag. Domain layer defines AgentDefinition value object. No horizon naming in code.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "data-driven-agent-registry"
    },
    {
      "id": "task-universal-skill-routing-with-symlinks",
      "title": "Implement Universal Skill Routing with Symlinks",
      "description": "Implement the feature: Universal Skill Routing with Symlinks. Implement duckrow-style universal skill routing. Skills are installed to a canonical .agents/skills/ directory. Universal agents (OpenCode, Codex, Gemini CLI, GitHub Copilot) read .agents/skills/ directly. Non-universal agents (Claude Code, Cursor, Goose, Windsurf, Cline) get symlinks from their agent-specific skills directory to the canonical location. Remove old per-client JSON/YAML config writers.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "universal-skill-routing-with-symlinks"
    },
    {
      "id": "task-agent-auto-detection-and-targeting",
      "title": "Implement Agent Auto-Detection and Targeting",
      "description": "Implement the feature: Agent Auto-Detection and Targeting. Detect which AI coding agents are installed on the system by checking agent-specific config directories (e.g. ~/.claude, ~/.cursor, /opencode). Support --agents flag for selective targeting during sync/install/uninstall. Scan project folders to detect which agents have skills installed.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "agent-auto-detection-and-targeting"
    },
    {
      "id": "task-refactor-client-references-to-agent-registry",
      "title": "Implement Refactor Client References to Agent Registry",
      "description": "Implement the feature: Refactor Client References to Agent Registry. Replace all 16 hardcoded 3-client references across core/config, core/cli, core/tray_state, core/backup, core/restore, core/doctor, skillsync_adapters, skilluninstall_adapters, syncplan_adapters, runtime, registry/cloud, and marketplace/catalog to use the data-driven agent registry. Config struct uses dynamic agent dirs instead of ClaudeConfigDir/CursorConfigDir/WindsurfConfigDir.",
      "priority": "medium",
      "estimate": "",
      "depends_on": [],
      "feature_id": "refactor-client-references-to-agent-registry"
    }
  ],
  "approval_status": "approved",
  "created_at": "2026-02-13T10:12:57.098395+01:00",
  "updated_at": "2026-02-13T23:38:06.224105+01:00"
}